(this.webpackJsonptimetables=this.webpackJsonptimetables||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),s=n.n(r),i=n(32),o=(n(91),n(33)),d=n.n(o),l=n(42),u=n(18),j=n(52),b=(n(93),n(153)),O=n(154),p=n(37),h=n.n(p),m="PLANNER_REQUEST",x="PLANNER_SUCCESS",v="PLANNER_FAIL",g=n(69),f=n.n(g),N=n(70),y=n.n(N),S=n(74),w=n.n(S),E=n(71),P=n.n(E),T=n(73),R=n.n(T),_=n(72),A=n.n(_),k=n(149),L=n(6);var D,C,I=function(){var e=Object(i.c)((function(e){return e.planner})),t=e.routPlans,n=e.loading,a=e.error;return n?Object(L.jsx)("div",{children:Object(L.jsx)(k.a,{})}):a?Object(L.jsx)("div",{children:a}):Object(L.jsx)("div",{children:t[0].legs.map((function(e){return Object(L.jsx)("div",{className:"output-plan-stops",children:"WALK"===e.mode?Object(L.jsxs)("div",{className:"output-walk",children:[Object(L.jsx)(f.a,{})," ",e.to.name]}):"TRAM"===e.mode?Object(L.jsxs)("div",{className:"output-tram",children:[Object(L.jsx)(y.a,{})," ",e.to.name]}):"BUS"===e.mode?Object(L.jsxs)("div",{className:"output-bus",children:[Object(L.jsx)(P.a,{})," ",e.to.name]}):"FERRY"===e.mode?Object(L.jsxs)("div",{className:"output-boat",children:[Object(L.jsx)(A.a,{})," ",e.to.name]}):"RAIL"===e.mode?Object(L.jsxs)("div",{className:"output-rail",children:[Object(L.jsx)(R.a,{})," ",e.to.name]}):"SUBWAY"===e.mode?Object(L.jsxs)("div",{className:"output-subway",children:[Object(L.jsx)(w.a,{})," ",e.to.name]}):e.mode})}))})};var M=function(){var e=Object(i.b)(),t=Object(a.useState)(),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(),o=Object(u.a)(s,2),p=o[0],g=o[1],f=Object(a.useState)(),N=Object(u.a)(f,2),y=N[0],S=N[1],w=new Date,E=w.getFullYear()+"-"+(w.getMonth()+1)+"-"+w.getDate(),P=new Date,T=P.getHours()+":"+P.getMinutes()+":"+P.getSeconds();return p&&y&&function(){var e=Object(l.a)(d.a.mark((function e(){var t,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.digitransit.fi/geocoding/v1/search?text=".concat(p,"&boundary.circle.lat=60.2&boundary.circle.lon=24.936&boundary.circle.radius=30"));case 2:return t=e.sent,n=t.data.bbox[1]+","+t.data.bbox[0],e.next=6,h.a.get("https://api.digitransit.fi/geocoding/v1/search?text=".concat(y,"&boundary.circle.lat=60.2&boundary.circle.lon=24.936&boundary.circle.radius=30"));case 6:a=e.sent,c=a.data.bbox[1]+","+a.data.bbox[0],D="https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",C='\n  {\n      plan(\n        fromPlace: "'.concat(n,'",\n        toPlace: "').concat(c,'",\n        date: "').concat(E,'",\n        time: "').concat(T,'",\n      numItineraries: 1,\n      ) {\n      itineraries{\n          walkDistance\n          duration\n          legs {\n          mode\n          startTime\n          endTime\n          from {\n              name\n          }\n          to {\n              name\n          }\n          }\n      }\n      }\n  }\n  ');case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),c&&e(function(){var e=Object(l.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,h.a.post(D,{query:C});case 4:n=e.sent,a=n.data,t({type:x,payload:a.data.plan.itineraries}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:v,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),Object(L.jsx)(j.a,{children:Object(L.jsxs)("div",{className:"grid-container",children:[Object(L.jsx)("header",{className:"header",children:Object(L.jsx)("div",{className:"page-name",children:Object(L.jsx)(j.b,{to:"/",children:"HSL Public Transport Route Planner"})})}),Object(L.jsxs)("main",{className:"main",children:[Object(L.jsxs)("div",{className:"content",children:[Object(L.jsx)("div",{children:Object(L.jsx)(b.a,{className:"input-origin",id:"origin",label:"Origin",variant:"outlined",onChange:function(e){e.currentTarget&&g(e.currentTarget.value)}})}),Object(L.jsx)("div",{children:Object(L.jsx)(b.a,{className:"input-destination",id:"destination",label:"Destination",variant:"outlined",onChange:function(e){e.currentTarget&&S(e.currentTarget.value)}})})]}),Object(L.jsx)("div",{className:"button-search",children:Object(L.jsx)("div",{children:Object(L.jsx)(O.a,{variant:"contained",onClick:function(){return r(Object(L.jsx)(I,{}))},children:"Search"})})}),Object(L.jsx)("div",{className:"output-plan",children:c})]}),Object(L.jsx)("footer",{className:"footer",children:"All rights reserved."})]})})},U=n(21),B=n(75);var F=Object(U.c)({planner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{routPlans:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0};case x:return{loading:!1,routPlans:t.payload};case v:return{loading:!1,error:t.payload};default:return e}}}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,q=Object(U.e)(F,Y(Object(U.a)(B.a)));s.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(i.a,{store:q,children:Object(L.jsx)(M,{})})}),document.getElementById("root"))},91:function(e,t,n){},93:function(e,t,n){}},[[118,1,2]]]);
//# sourceMappingURL=main.a19bae6b.chunk.js.map